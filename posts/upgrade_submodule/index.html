<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="åšå®¢è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°github pagesæµç¨‹

ä½¿ç”¨ç§æœ‰ä»“åº“A â†’ æ„å»º Hugo â†’ éƒ¨ç½²åˆ°å…¬å¼€ä»“åº“B(xxxxx.github.io)

ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Personal Access Token (PAT)
ä½ éœ€è¦ä¸€ä¸ªæœ‰æƒé™å†™å…¥ç›®æ ‡ä»“åº“çš„ tokenã€‚
åˆ›å»º PAT
å‰å¾€ï¼šhttps://github.com/settings/tokens
å¡«å†™

Token name: deploy-to-xxxxxx.github.io
Expiration: é€‰æ‹© 90 å¤©æˆ–è‡ªå®šä¹‰
Repository access: Only select repositories
å‹¾é€‰ï¼šå…¬å¼€ä»“åº“B
Permissions
Repository contents: Read and write

ç‚¹å‡» Generate tokenï¼Œå¤åˆ¶ç”Ÿæˆçš„ tokenï¼ˆå½¢å¦‚ ghp_xxx&mldr;ï¼‰å¹¶ä¿å­˜ï¼

å…³æ‰é¡µé¢åå°±å†ä¹Ÿçœ‹ä¸åˆ°äº†ï¼

ç¬¬äºŒæ­¥ï¼šåœ¨ç§æœ‰ä»“åº“æ·»åŠ  Secret

è¿›å…¥ç§æœ‰ä»“åº“çš„ settings â†’ secrets â†’ actions
ç‚¹å‡» New repository secret

  
      
          Field
          value
      
  
  
      
          Name
          PERSONAL_TOKEN
      
      
          value
          ç²˜è´´ç¬¬ä¸€æ­¥ç”Ÿæˆçš„token
      
  



ç¬¬ä¸‰æ­¥ï¼šé…ç½® CI æ–‡ä»¶ï¼ˆ.github/workflows/ci.ymlï¼‰
åœ¨æ ¹ç›®å½•ä¸­åˆ›å»ºï¼š
.github/workflows/ci.yml
æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š
name: Deploy Hugo Site

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout source
        uses: actions/checkout@v4
        with:
          submodules: true
          fetch-depth: 0

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: 'latest'
          extended: true

      - name: Build
        run: hugo --minify --baseURL &#34;åŸŸå&#34;

      - name: Deploy to esperanzaee.github.io
        uses: peaceiris/actions-gh-pages@v3
        with:
          personal_token: ${{ secrets.PERSONAL_TOKEN }}
          publish_dir: ./public
          external_repository: ç”¨æˆ·å/ä»“åº“å
          publish_branch: main
          allow_empty_commit: true
          keep_files: false
          enable_jekyll: false
          commit_message: ${{ github.event.head_commit.message }}
ç¬¬å››æ­¥ï¼šé…ç½® Cloudflare DNSï¼ˆå¦‚æœè‡ªå·±æœ‰åŸŸåçš„è¯ï¼‰


ç™»å½• Cloudflareï¼Œé€‰æ‹©æˆ–è€…æ·»åŠ è‡ªå·±çš„åŸŸå"><title>Hugoåšå®¢æ­å»ºæµç¨‹</title><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon-96x96.png><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel="shortcut icon" type=image/x-icon href=/><link rel=stylesheet href=/css/main.2b5adadc9b15c4e44084a5f11469e8994247b0112c8bd636addd7a63667bd34f2fb9024ff12efff4e6274ec16566b85b0230a2f3b25b75625408a86da30ab0c3.css integrity="sha512-K1ra3JsVxORAhKXxFGnomUJHsBEsi9Y2rd16Y2Z7008vuQJP8S7/9OYnTsFlZrhbAjCi87JbdWJUCKhtowqwww=="></head><body a=auto><main class=page-content aria-label=Content><div class=w><div class=cbox><div class=cbox-title-bar><div class=sidebar-links><div class=button><a href=/>å°å</a></div><div class=button><a href=/posts>åœæ³Šå¤„</a></div><div class=button><a href=/tool>é›†å</a></div><div class=button><a href=/about>å…³äº</a></div></div></div><div class=cinner><article><div class=xian><h1>Hugoåšå®¢æ­å»ºæµç¨‹</h1><div class=post-meta><span class=post-date>2025-09-10</span></div></div><h2 id=åšå®¢è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°github-pagesæµç¨‹>åšå®¢è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°github pagesæµç¨‹</h2><blockquote><p>ä½¿ç”¨ç§æœ‰ä»“åº“A â†’ æ„å»º Hugo â†’ éƒ¨ç½²åˆ°å…¬å¼€ä»“åº“B(xxxxx.github.io)</p></blockquote><h3 id=ç¬¬ä¸€æ­¥åˆ›å»º-personal-access-token-pat>ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Personal Access Token (PAT)</h3><p><strong>ä½ éœ€è¦ä¸€ä¸ªæœ‰æƒé™å†™å…¥ç›®æ ‡ä»“åº“çš„ tokenã€‚</strong></p><p>åˆ›å»º PAT
å‰å¾€ï¼š<a href=https://github.com/settings/tokens>https://github.com/settings/tokens</a></p><p>å¡«å†™</p><ol><li>Token name: deploy-to-xxxxxx.github.io</li><li>Expiration: é€‰æ‹© 90 å¤©æˆ–è‡ªå®šä¹‰</li><li>Repository access: Only select repositories</li><li>å‹¾é€‰ï¼šå…¬å¼€ä»“åº“B</li><li>Permissions<br>Repository contents: Read and write</li></ol><p>ç‚¹å‡» Generate tokenï¼Œå¤åˆ¶ç”Ÿæˆçš„ tokenï¼ˆå½¢å¦‚ ghp_xxx&mldr;ï¼‰å¹¶ä¿å­˜ï¼</p><blockquote><p>å…³æ‰é¡µé¢åå°±å†ä¹Ÿçœ‹ä¸åˆ°äº†ï¼</p></blockquote><h3 id=ç¬¬äºŒæ­¥åœ¨ç§æœ‰ä»“åº“æ·»åŠ -secret>ç¬¬äºŒæ­¥ï¼šåœ¨ç§æœ‰ä»“åº“æ·»åŠ  Secret</h3><ol><li>è¿›å…¥ç§æœ‰ä»“åº“çš„ settings â†’ secrets â†’ actions</li><li>ç‚¹å‡» New repository secret<table><thead><tr><th>Field</th><th>value</th></tr></thead><tbody><tr><td>Name</td><td>PERSONAL_TOKEN</td></tr><tr><td>value</td><td>ç²˜è´´ç¬¬ä¸€æ­¥ç”Ÿæˆçš„token</td></tr></tbody></table></li></ol><h3 id=ç¬¬ä¸‰æ­¥é…ç½®-ci-æ–‡ä»¶githubworkflowsciyml>ç¬¬ä¸‰æ­¥ï¼šé…ç½® CI æ–‡ä»¶ï¼ˆ.github/workflows/ci.ymlï¼‰</h3><p>åœ¨æ ¹ç›®å½•ä¸­åˆ›å»ºï¼š</p><pre tabindex=0><code>.github/workflows/ci.yml
</code></pre><p>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><pre tabindex=0><code>name: Deploy Hugo Site

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout source
        uses: actions/checkout@v4
        with:
          submodules: true
          fetch-depth: 0

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: &#39;latest&#39;
          extended: true

      - name: Build
        run: hugo --minify --baseURL &#34;åŸŸå&#34;

      - name: Deploy to esperanzaee.github.io
        uses: peaceiris/actions-gh-pages@v3
        with:
          personal_token: ${{ secrets.PERSONAL_TOKEN }}
          publish_dir: ./public
          external_repository: ç”¨æˆ·å/ä»“åº“å
          publish_branch: main
          allow_empty_commit: true
          keep_files: false
          enable_jekyll: false
          commit_message: ${{ github.event.head_commit.message }}
</code></pre><h3 id=ç¬¬å››æ­¥é…ç½®-cloudflare-dnså¦‚æœè‡ªå·±æœ‰åŸŸåçš„è¯>ç¬¬å››æ­¥ï¼šé…ç½® Cloudflare DNSï¼ˆå¦‚æœè‡ªå·±æœ‰åŸŸåçš„è¯ï¼‰</h3><ul><li><p>ç™»å½• Cloudflareï¼Œé€‰æ‹©æˆ–è€…æ·»åŠ è‡ªå·±çš„åŸŸå</p></li><li><p>æ·»åŠ  CNAME è®°å½•ï¼ˆæŒ‡å‘ GitHub Pagesï¼‰</p><table><thead><tr><th>å­—æ®µ</th><th>å€¼</th></tr></thead><tbody><tr><td>Type</td><td>CNAME</td></tr><tr><td>Name</td><td>blog</td></tr><tr><td>Content</td><td>xxxxx.github.io</td></tr><tr><td>Proxy status</td><td>âŒ ç°è‰²äº‘ï¼ˆå…³é—­ä»£ç†ï¼‰</td></tr><tr><td>TTL</td><td>Auto</td></tr></tbody></table></li><li><p>ç­‰å¾…DNSç”Ÿæ•ˆï¼ˆå¯èƒ½5minåˆ°48hï¼‰</p></li></ul><h3 id=ç¬¬äº”æ­¥åœ¨-github-ä¸Šç»‘å®šè‡ªå®šä¹‰åŸŸå>ç¬¬äº”æ­¥ï¼šåœ¨ GitHub ä¸Šç»‘å®šè‡ªå®šä¹‰åŸŸå</h3><ul><li>è¿›å…¥ç§æœ‰ä»“åº“çš„settings â†’ Pages</li><li>è®¾ç½®Custom Domainï¼Œè¾“å…¥è‡ªå·±çš„åŸŸåï¼ŒSave</li></ul><h3 id=ç¬¬å…­æ­¥æäº¤å¹¶è§¦å‘éƒ¨ç½²>ç¬¬å…­æ­¥ï¼šæäº¤å¹¶è§¦å‘éƒ¨ç½²</h3><pre tabindex=0><code>git add .
git commit -m &#34;feat: setup CI and deploy&#34;
git push origin main
</code></pre><h2 id=hugo-å­æ¨¡å—ä¸»é¢˜æ›´æ–°æµç¨‹>Hugo å­æ¨¡å—ä¸»é¢˜æ›´æ–°æµç¨‹</h2><blockquote><p>é€‚ç”¨åœºæ™¯ï¼šä½ ä½¿ç”¨ Git å­æ¨¡å—ç®¡ç†ä¸»é¢˜ï¼Œä¸”å·² Fork ä¸»é¢˜ä»“åº“ï¼Œå¸Œæœ›æ›´æ–°å¹¶æäº¤å˜æ›´ã€‚</p></blockquote><h3 id=-å‰ææ¡ä»¶ä»…éœ€æ‰§è¡Œä¸€æ¬¡>ğŸ“Œ å‰ææ¡ä»¶ï¼ˆä»…éœ€æ‰§è¡Œä¸€æ¬¡ï¼‰</h3><p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ·»åŠ è¯¥å­æ¨¡å—ï¼Œè¯·åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š</p><pre tabindex=0><code># æ·»åŠ å­æ¨¡å—ï¼ˆä»…é¦–æ¬¡æ‰§è¡Œï¼‰
git submodule add ç›®æ ‡ä»“åº“åœ°å€ themes/hugo-binder

# æäº¤å­æ¨¡å—åˆå§‹åŒ–
git add .gitmodules themes/hugo
git commit -m &#34;feat: add hugo theme as submodule&#34;
git push origin main
</code></pre><blockquote><p>âœ… æç¤ºï¼š.gitmodules æ–‡ä»¶ä¼šè®°å½•å­æ¨¡å—çš„ URL å’Œè·¯å¾„ã€‚</p></blockquote><h3 id=æ—¥å¸¸æ›´æ–°æµç¨‹å½“ä½ åœ¨-themesxxxx-ä¸­ä¿®æ”¹ä»£ç æ—¶>æ—¥å¸¸æ›´æ–°æµç¨‹ï¼ˆå½“ä½ åœ¨ themes/xxxx ä¸­ä¿®æ”¹ä»£ç æ—¶ï¼‰</h3><ol><li>è¿›å…¥å­æ¨¡å—ç›®å½•ï¼Œæäº¤å¹¶æ¨é€ä¸»é¢˜æœ¬èº«çš„æ›´æ”¹</li></ol><pre tabindex=0><code>cd themes/hugo

ç¡®ä¿ä½ åœ¨æ­£ç¡®çš„åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯ main æˆ– masterï¼‰ï¼š
git checkout main

æ‹‰å–æœ€æ–°ä»£ç ï¼ˆé¿å…å†²çªï¼‰ï¼š
git pull origin main

è¿›è¡Œä½ çš„ä¿®æ”¹ï¼ˆå¦‚ä¿®å¤é…ç½®ã€æ ·å¼ç­‰ï¼‰ï¼Œç„¶åæäº¤ï¼š
git add .
git commit -m &#34;Fix: remove theme = hugo-looseleaf to prevent nesting&#34;
git push origin main
</code></pre><blockquote><p>âœ… è¿™ä¸€æ­¥ä¼šæŠŠä¸»é¢˜çš„æ›´æ–°æ¨é€åˆ°ä½ çš„ Fork ä»“åº“</p></blockquote><ol start=2><li>å›åˆ°ä¸»é¡¹ç›®ï¼Œæ›´æ–°å­æ¨¡å—æŒ‡é’ˆ</li></ol><pre tabindex=0><code>cd ../../  # å›åˆ° Hugo é¡¹ç›®æ ¹ç›®å½•
</code></pre><p>æ­¤æ—¶ä¸»é¡¹ç›®ä¼šæ˜¾ç¤ºå­æ¨¡å—æœ‰â€œæ–°æäº¤â€ï¼š</p><pre tabindex=0><code>git status
# è¾“å‡ºç±»ä¼¼ï¼šmodified:   themes/hugo (new commits)
</code></pre><p>å°†å­æ¨¡å—çš„å¼•ç”¨æ›´æ–°åˆ°æœ€æ–°æäº¤ï¼š</p><pre tabindex=0><code>git add themes/hugo
git commit -m &#34;chore: update submodule hugo to latest commit&#34;
git push origin main
</code></pre><blockquote><p>âœ… è¿™ä¸€æ­¥ä¼šè§¦å‘ GitHub Actions æ„å»ºå¹¶éƒ¨ç½²ä½ çš„åšå®¢ã€‚</p></blockquote><h3 id=è¡¥å……å»ºè®®åŒæ­¥ä¸Šæ¸¸ä¸»é¢˜æ›´æ–°å¯é€‰>è¡¥å……å»ºè®®ï¼šåŒæ­¥ä¸Šæ¸¸ä¸»é¢˜æ›´æ–°ï¼ˆå¯é€‰ï¼‰</h3><p>å¦‚æœä½ å¸Œæœ›åˆå¹¶åŸä¸»é¢˜ä½œè€…çš„æ›´æ–°ï¼ˆæ¯”å¦‚ä¿®å¤ bugã€æ–°å¢åŠŸèƒ½ï¼‰ï¼š</p><pre tabindex=0><code class=language-cd data-lang=cd>git remote -v                  # æŸ¥çœ‹å½“å‰è¿œç¨‹ä»“åº“
git remote add upstream ä¸Šæ¸¸ä»“åº“åœ°å€  # æ·»åŠ ä¸Šæ¸¸ä»“åº“ï¼ˆä»…ä¸€æ¬¡ï¼‰
git fetch upstream             # è·å–ä¸Šæ¸¸æ›´æ–°
git merge upstream/main        # åˆå¹¶åˆ°æœ¬åœ°
git push origin main           # æ¨é€åˆ°ä½ çš„ Fork
cd ../../
git add themes/hugo
git commit -m &#34;chore: sync upstream changes for hugo theme&#34;
git push origin main```
</code></pre></article><div class=enddiver><img src=/images/end2.gif alt=End...></div></div></div><div class=footer-note>Copyright Â© é˜¿ç¿ All Rights Reserved.</div></div></main><script src=/js/view-image.min.js defer></script><script>document.addEventListener("DOMContentLoaded",function(){const e="article img:not([no-view])";window.ViewImage&&ViewImage.init(e)})</script></body></html>